endpoint <- "https://data.lacity.org/resource/7fvc-faax.csv"
library(httr)
base <- GET(endpoint)
base$status_code
str(base, max.level=1)
data=content(base)
print( paste("there are",dim(data)[2], "variables(columns) and", dim(data)[1], "rows."))
table(data$area_name)
R.home(component = "home")
# App Token for https://data.lacity.org
LACRIME_APP_TOKEN = "ja38d4ywsKpkZJkLBXi9UEo4i"
LACRIME_SECRET_TOKEN = "peJe9I4v7RnUKv_0F_AeVuu1rb9trcI5s099"
# App Token for https://data.lacity.org
LACRIME_APP_TOKEN = "ja38d4ywsKpkZJkLBXi9UEo4i"
LACRIME_SECRET_TOKEN = "peJe9I4v7RnUKv_0F_AeVuu1rb9trcI5s099"
ser <- GET(endpoint，"$limit" = "10000"， "$$app_token" = Sys.getenv("LACRIME_APP_TOKEN"))
# App Token for https://data.lacity.org
LACRIME_APP_TOKEN = "ja38d4ywsKpkZJkLBXi9UEo4i"
LACRIME_SECRET_TOKEN = "peJe9I4v7RnUKv_0F_AeVuu1rb9trcI5s099"
ser <- GET(endpoint, "$limit" = "10000"， "$$app_token" = Sys.getenv("LACRIME_APP_TOKEN"))
# App Token for https://data.lacity.org
LACRIME_APP_TOKEN = "ja38d4ywsKpkZJkLBXi9UEo4i"
LACRIME_SECRET_TOKEN = "peJe9I4v7RnUKv_0F_AeVuu1rb9trcI5s099"
a= GET(endpoint, "$limit" = "10000"， "$$app_token" = Sys.getenv("LACRIME_APP_TOKEN"))
# App Token for https://data.lacity.org
LACRIME_APP_TOKEN = "ja38d4ywsKpkZJkLBXi9UEo4i"
LACRIME_SECRET_TOKEN = "peJe9I4v7RnUKv_0F_AeVuu1rb9trcI5s099"
a= GET(endpoint, "$limit" = "10000", "$$app_token" = Sys.getenv("LACRIME_APP_TOKEN"))
# App Token for https://data.lacity.org
LACRIME_APP_TOKEN = "ja38d4ywsKpkZJkLBXi9UEo4i"
LACRIME_SECRET_TOKEN = "peJe9I4v7RnUKv_0F_AeVuu1rb9trcI5s099"
req <- GET(endpoint, "$limit" = "10000", "$$app_token" = Sys.getenv("LACRIME_APP_TOKEN"))
req$status_code
GET(endpoint, "$limit" = "10000", "$$app_token" = Sys.getenv("LACRIME_APP_TOKEN"), query=list(vict_sex=F, vict_age=20, time_occ=2300))
GET(endpoint, "$limit" = "10000", "$$app_token" = Sys.getenv("LACRIME_APP_TOKEN"), query=list(vict_sex="F", vict_age=20, time_occ=2300))
GET(endpoint, "$limit" = "10000", "$$app_token" = Sys.getenv("LACRIME_APP_TOKEN"), query=list(vict_sex="F", vict_age="20", time_occ="2300"))
query=GET(endpoint, "$limit" = "10000", "$$app_token" = Sys.getenv("LACRIME_APP_TOKEN"), query=list(vict_sex="F", vict_age="20", time_occ="2300"))
query$status_code
content(query)
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
query=GET(endpoint, "$limit" = "10000", "$$app_token" = Sys.getenv("LACRIME_APP_TOKEN"), query=list(vict_sex="M", vict_age="20", time_occ="2300"))
query$status_code
content(query)
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
library(stringr)
#content(query)
str_extract(query$location_1, "\\d*.\\d*\\s*\\d*.\\d*")
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
library(stringr)
#content(query)
str_extract(content(query)$location_1, "\\d*.\\d*\\s*\\d*.\\d*")
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
library(stringr)
#content(query)
str_extract(content(query)$location_1, "\\d+.\\d+\\s\\d+.\\d+")
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
library(stringr)
content(query)
#str_extract(content(query)$location_1, "\\d+.\\d+\\s\\d+.\\d+")
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
library(stringr)
#content(query)
str_extract(content(query)$location_1, "(.*)")
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
library(stringr)
#content(query)
str_extract(content(query)$location_1, "(.*)")
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
library(stringr)
#content(query)
str_extract(content(query)$location_1, "\\W*(.*)")
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
library(stringr)
#content(query)
str_extract(content(query)$location_1, "\\W*(.*)")
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
library(stringr)
#content(query)
str_extract(content(query)$location_1, "\\W+(.*)")
library(stringr)
#content(query)
str_extract(content(query)$location_1, "\\W+[^(].*[^)]")
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
library(stringr)
#content(query)
str_extract(content(query)$location_1, "\\W+[^(][^)]")
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
library(stringr)
#content(query)
str_extract(content(query)$location_1, "\\W+[^(].*[^)]")
library(stringr)
#content(query)
str_extract(content(query)$location_1, "\\W+[^()]")
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
library(stringr)
#content(query)
str_extract(content(query)$location_1, "\\W+")
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
library(stringr)
#content(query)
str_extract(content(query)$location_1, "\\W+.*")
#AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
library(stringr)
a=content(query)
str_extract(a$location_1, "\\d+.\\d*\\s\\d*.\\d*") %>% str_replace(" ", ",")
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", -37.866963, ",", 144.980615, "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
str_extract(a$location_1, "\\d+.\\d*\\s\\d*.\\d*") %>% str_replace(" ", ",")
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", -37.866963, ",", 144.980615, "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
latlng <- str_extract(a$location_1, "\\d+.\\d*\\s\\d*.\\d*") %>% str_replace(" ", ",")
GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
latlng <- str_extract(a$location_1, "\\d+.\\d*\\s\\d*.\\d*") %>% str_replace(" ", ",")
latlng[1]
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
latlng <- str_extract(a$location_1, "\\d+.\\d*\\s\\d*.\\d*") %>% str_replace(" ", ",")
latlng[1]
paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
latlng <- str_extract(a$location_1, "\\W+.*") %>% str_replace(" ", ",")
latlng[1]
paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
latlng <- str_extract(a$location_1, "\\S\\W+.*") %>% str_replace(" ", ",")
latlng[1]
paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
latlng <- str_extract(a$location_1, "[^\\s]\\W+.*") %>% str_replace(" ", ",")
latlng[1]
paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
latlng <- str_extract(a$location_1, "\\W+\\S.*") %>% str_replace(" ", ",")
latlng[1]
paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
latlng <- str_extract(a$location_1, "\\W+\\S+.*") %>% str_replace(" ", ",")
latlng[1]
paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
latlng <- str_extract(a$location_1, "-\\d*.\\d*\\s\\d*.\\d*") %>% str_replace(" ", ",")
latlng[1]
paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
latlng <- str_extract(a$location_1, "-\\d*.\\d*\\s\\d*.\\d*") %>% str_replace(" ", ",")
latlng[1]
paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
latlng <- str_extract(a$location_1, "-\\d*.\\d*\\s\\d*.\\d*") %>% str_replace(" ", ",")
latlng[1]
paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
GET("https://maps.googleapis.com/maps/api/geocode/json?latlng=-118.5163,34.1885&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=YOUR_API_KEY
#https://maps.googleapis.com/maps/api/geocode/json?latlng=-118.5163,34.1885&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
latlng <- str_extract(a$location_1, "-\\d*.\\d*\\s\\d*.\\d*") %>% str_replace(" ", ",")
latlng[1]
paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
GET("https://maps.googleapis.com/maps/api/geocode/json?latlng=-118.5163,34.1885&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=YOUR_API_KEY
#https://maps.googleapis.com/maps/api/geocode/json?latlng=-118.5163,34.1885&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
latlng <- str_extract(a$location_1, "-\\d*.\\d*\\s\\d*.\\d*") %>% str_replace(" ", ",")
latlng[1]
paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
GET("https://maps.googleapis.com/maps/api/geocode/json?latlng=34.1885,-118.5163&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=YOUR_API_KEY
#https://maps.googleapis.com/maps/api/geocode/json?latlng=-118.5163,34.1885&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
a=content(query)
latlng <- str_extract(a$location_1, "-\\d*.\\d*\\s\\d*.\\d*") %>% str_replace(" ", ",")
as.matrix(latlng)
latlng[1]
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=YOUR_API_KEY
#https://maps.googleapis.com/maps/api/geocode/json?latlng=-118.5163,34.1885&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\s\\d*.\\d*")
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*")
a
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=YOUR_API_KEY
#https://maps.googleapis.com/maps/api/geocode/json?latlng=-118.5163,34.1885&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*")
b
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=YOUR_API_KEY
#https://maps.googleapis.com/maps/api/geocode/json?latlng=-118.5163,34.1885&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*")
b
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=YOUR_API_KEY
#https://maps.googleapis.com/maps/api/geocode/json?latlng=-118.5163,34.1885&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*") %>% str_replace(" ", "")
b
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
#GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=YOUR_API_KEY
#https://maps.googleapis.com/maps/api/geocode/json?latlng=-118.5163,34.1885&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*") %>% str_replace(" ", "")
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", a[1], ",", b[1],  "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=YOUR_API_KEY
#https://maps.googleapis.com/maps/api/geocode/json?latlng=-118.5163,34.1885&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*") %>% str_replace(" ", "")
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[1], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", b[1], ",", a[1],  "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=YOUR_API_KEY
#https://maps.googleapis.com/maps/api/geocode/json?latlng=-118.5163,34.1885&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*") %>% str_replace(" ", "")
paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", b[1], ",", a[1],  "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", b[1], ",", a[1],  "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=YOUR_API_KEY
#https://maps.googleapis.com/maps/api/geocode/json?latlng=-118.5163,34.1885&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A
#for (i in 1:50) {
#  n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], #"&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#}
#paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", latlng[i], "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = "")
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*") %>% str_replace(" ", "")
m=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", b[1], ",", a[1],  "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
content(m)
#formatted_address
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*") %>% str_replace(" ", "")
m=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", b[1], ",", a[1],  "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
content(m)$formatted_address
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*") %>% str_replace(" ", "")
m=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", b[1], ",", a[1],  "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
content(m)$result$formatted_address
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*") %>% str_replace(" ", "")
m=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", b[1], ",", a[1],  "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
content(m)
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*") %>% str_replace(" ", "")
m=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", b[1], ",", a[1],  "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
content(m)$results[[1]]$formatted_address
#$result$formatted_address
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*") %>% str_replace(" ", "")
for (i in 1:50) {
n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", b[i], ",", a[i],  "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
if (n$status_code!="200") print(paste("warning: the status is not GREAT, status code is", n$status_code))
content(n)$results[[1]]$formatted_address
Sys.sleep(0.1)
}
#m=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", b[1], ",", a[1],  "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#content(m)$results[[1]]$formatted_address
print(1+1)
p=2+3
print(p)
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*") %>% str_replace(" ", "")
for (i in 1:50) {
n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", b[i], ",", a[i],  "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
if (n$status_code!="200") print(paste("warning: the status is not GREAT, status code is", n$status_code))
print(content(n)$results[[1]]$formatted_address)
Sys.sleep(0.1)
}
#m=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", b[1], ",", a[1],  "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
#content(m)$results[[1]]$formatted_address
library(stringr)
k=content(query)
latlng <- str_extract(k$location_1, "-\\d*.\\d*\\s\\d*.\\d*")
a=str_extract(latlng, "-\\d*.\\d*")
b=str_extract(latlng, "\\s\\d*.\\d*") %>% str_replace(" ", "")
for (i in 1:50) {
n=GET(paste("https://maps.googleapis.com/maps/api/geocode/json?latlng=", b[i], ",", a[i],  "&key=AIzaSyDUsAObQH4nFberx3AT2HyfciAdx4Gqq3A", sep = ""))
if (n$status_code!="200") print(paste("warning: the status is not GREAT, status code is", n$status_code))
else
print(content(n)$results[[1]]$formatted_address)
Sys.sleep(0.1)
}
req <- GET(endpoint, "$limit" = "10000", "$$app_token" = Sys.getenv("LACRIME_APP_TOKEN"))
library(httr)
base <- GET(endpoint)
endpoint <- "https://data.lacity.org/resource/7fvc-faax.csv"
library(httr)
base <- GET(endpoint)
base$status_code
str(base, max.level=1)
req <- GET(endpoint, "$limit" = "10000", "$$app_token" = Sys.getenv("LACRIME_APP_TOKEN"))
req$status_code
query=GET(endpoint, "$limit" = "10000", "$$app_token" = Sys.getenv("LACRIME_APP_TOKEN"), query=list(vict_sex="M", vict_age="20", time_occ="2300"))
query$status_code
library(RMySQL)
library(DBI)
world_con <- dbConnect(
drv = RMySQL::MySQL(),
dbname = "shinydemo",
host = "shiny-demo.csa7qlmguqrf.us-east-1.rds.amazonaws.com",
username = "guest",
password = "guest")
SHOW TABLES
library(RMySQL)
library(DBI)
world_con <- dbConnect(
drv = RMySQL::MySQL(),
dbname = "shinydemo",
host = "shiny-demo.csa7qlmguqrf.us-east-1.rds.amazonaws.com",
username = "guest",
password = "guest")
